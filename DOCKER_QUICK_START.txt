â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         DOCKER DEPLOYMENT - COPY & RUN QUICK GUIDE                  â”‚
â”‚            INBV VOD Live Streaming Server                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ¯ THE EASIEST WAY: Just 3 Commands!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ WHAT'S INCLUDED IN THE DOCKER IMAGE:

âœ… Ubuntu 22.04 Linux
âœ… Nginx 1.24 with RTMP module  
âœ… FFmpeg (latest)
âœ… Node.js 18 LTS
âœ… All project dependencies
âœ… Complete configuration

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ DEPLOYMENT IN 3 COMMANDS:

On your Linux server:

1ï¸âƒ£  Install Docker:
   curl -fsSL https://get.docker.com | sudo sh

2ï¸âƒ£  Upload project folder (via SCP/SFTP/Git)

3ï¸âƒ£  Run this:
   cd your-project-folder
   ./deploy.sh

   (Select option 1: Build and Run)

DONE! âœ¨ Server is running!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‹ DETAILED STEP-BY-STEP:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: Install Docker on Linux Server                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ssh root@YOUR_SERVER_IP

# Quick install (one command)
curl -fsSL https://get.docker.com | sudo sh

# Start Docker
sudo systemctl start docker
sudo systemctl enable docker

# Verify
docker --version

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: Upload Your Project                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Option A - SCP from Mac:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
cd ~/Desktop/company
tar -czf streaming.tar.gz "inbv VOD live server"
scp streaming.tar.gz root@YOUR_SERVER_IP:/root/

On server:
cd /root
tar -xzf streaming.tar.gz
mv "inbv VOD live server" inbv-streaming

Option B - Git:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
git clone YOUR_REPO inbv-streaming

Option C - SFTP/FileZilla:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Use GUI to upload project folder

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 3: Build & Run                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

cd /root/inbv-streaming

# Use the deployment script (easiest)
./deploy.sh

# Or manually:
docker build -t inbv-streaming:latest .
docker run -d \
  --name inbv-streaming \
  -p 80:80 -p 1935:1935 -p 3000:3000 \
  -v $(pwd)/videos:/opt/inbv-streaming/videos \
  --restart unless-stopped \
  inbv-streaming:latest

# Or with docker-compose:
docker-compose up -d

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: Access Your Server                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Open browser:
http://YOUR_SERVER_IP/admin-v2.html

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ›ï¸  MANAGEMENT COMMANDS:

Start Container:
  docker start inbv-streaming
  # OR: docker-compose start

Stop Container:
  docker stop inbv-streaming
  # OR: docker-compose stop

Restart Container:
  docker restart inbv-streaming
  # OR: docker-compose restart

View Logs:
  docker logs -f inbv-streaming
  # OR: docker-compose logs -f

Container Shell:
  docker exec -it inbv-streaming bash

Check Status:
  docker ps

Remove Container:
  docker-compose down
  # OR: docker stop inbv-streaming && docker rm inbv-streaming

Rebuild After Changes:
  docker-compose down
  docker-compose build
  docker-compose up -d

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“‚ PROJECT STRUCTURE FOR DOCKER:

inbv-streaming/
â”œâ”€â”€ Dockerfile                  â† Docker build instructions
â”œâ”€â”€ docker-compose.yml          â† Easy management config
â”œâ”€â”€ deploy.sh                   â† Interactive deployment script
â”œâ”€â”€ .dockerignore               â† Files to exclude from image
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ nginx.conf              â† Nginx configuration
â”‚   â””â”€â”€ start.sh                â† Container startup script
â”œâ”€â”€ api-server.js               â† Node.js API
â”œâ”€â”€ *.html                      â† Admin panels, player
â”œâ”€â”€ lib/                        â† VideoStreamer, PipeManager
â”œâ”€â”€ videos/                     â† Uploaded videos (persisted)
â”œâ”€â”€ playlists/                  â† Auto-generated (persisted)
â”œâ”€â”€ logs/                       â† Server logs (persisted)
â””â”€â”€ package.json                â† Node dependencies

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”Œ PORT MAPPINGS:

Server Port  â†’  Container Port  â†’  Service
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    80       â†’      80          â†’  HTTP (Admin Panel, Player, HLS)
   8080      â†’     8080         â†’  HTTP Alternative
   1935      â†’     1935         â†’  RTMP (Streaming input)
   3000      â†’     3000         â†’  Node.js API

Access admin panel:
  http://YOUR_SERVER_IP:80/admin-v2.html
  http://YOUR_SERVER_IP/admin-v2.html     (port 80 is default)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¾ PERSISTENT DATA (Survives container restarts/rebuilds):

These folders are mapped to your server's filesystem:

  videos/      â†’ All uploaded videos
  playlists/   â†’ Channel playlists
  logs/        â†’ Application logs
  hls/         â†’ HLS stream segments

Even if you delete the container, these files remain!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”§ COMMON TASKS:

Update HTML Files:
  # On server
  cd /root/inbv-streaming
  docker cp admin-v2.html inbv-streaming:/var/www/html/
  docker restart inbv-streaming

Update Backend Code:
  # On server
  cd /root/inbv-streaming
  # Edit files or upload new ones
  docker-compose down
  docker-compose build
  docker-compose up -d

Add More Channels:
  # Edit docker/nginx.conf
  # Add more "application live11 {}" blocks
  docker-compose build
  docker-compose up -d

Backup Everything:
  tar -czf backup-$(date +%Y%m%d).tar.gz videos/ playlists/ logs/

Restore Backup:
  tar -xzf backup-YYYYMMDD.tar.gz

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ› TROUBLESHOOTING:

Container Won't Start:
  docker logs inbv-streaming
  # Check for port conflicts:
  sudo netstat -tulpn | grep -E '80|1935|3000'

Can't Access Admin Panel:
  # Check if container is running:
  docker ps | grep inbv
  
  # Check firewall:
  sudo ufw allow 80/tcp
  sudo ufw allow 1935/tcp

Port Already in Use:
  # Find what's using the port:
  sudo lsof -i :80
  
  # Stop it or change Docker ports:
  docker run -p 8080:80 ...  # Use port 8080 instead

Low on Disk Space:
  # Clean old Docker images:
  docker system prune -a
  
  # Check space:
  df -h

Container Crashes:
  # Check logs:
  docker logs inbv-streaming
  
  # Check memory:
  docker stats

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš¦ DEPLOYMENT SCRIPT MENU:

When you run: ./deploy.sh

You'll see:
  1. Build and Run (First time)
  2. Start Existing Container
  3. Stop Container
  4. Restart Container
  5. View Logs
  6. Rebuild from Scratch
  7. Remove Everything
  8. Exit

Just type the number and press Enter!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš¡ QUICK DEPLOYMENT CHEAT SHEET:

First Time Setup:
  curl -fsSL https://get.docker.com | sudo sh
  cd your-project
  ./deploy.sh  â†’ Select 1

Daily Operations:
  ./deploy.sh  â†’ Select 2 (Start)
  ./deploy.sh  â†’ Select 3 (Stop)
  ./deploy.sh  â†’ Select 5 (Logs)

After Code Changes:
  ./deploy.sh  â†’ Select 6 (Rebuild)

Emergency Restart:
  docker restart inbv-streaming

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š MONITORING:

Check Container Status:
  docker ps
  
Resource Usage:
  docker stats inbv-streaming
  
Health Check:
  docker inspect inbv-streaming | grep -i health
  
Active Streams:
  curl http://localhost/stat
  
View All Logs:
  docker logs --tail 100 inbv-streaming

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ COMPARISON: Docker vs Manual

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Aspect            â•‘ Docker        â•‘ Manual Installation   â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Setup Time        â•‘ 15 minutes    â•‘ 90 minutes            â•‘
â•‘ Commands Needed   â•‘ 3 commands    â•‘ 25+ commands          â•‘
â•‘ Difficulty        â•‘ Easy          â•‘ Advanced              â•‘
â•‘ Portability       â•‘ Any server    â•‘ Server-specific       â•‘
â•‘ Updates           â•‘ Rebuild       â•‘ Manual updates        â•‘
â•‘ Isolation         â•‘ Fully         â•‘ System-wide           â•‘
â•‘ Rollback          â•‘ Easy          â•‘ Difficult             â•‘
â•‘ Dependencies      â•‘ Auto          â•‘ Manual install        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… DEPLOYMENT CHECKLIST:

Before deploying:
â˜ Docker installed on server
â˜ Project uploaded to server
â˜ Ports 80, 1935, 3000 available
â˜ At least 4GB RAM available
â˜ At least 100GB disk space

After deploying:
â˜ Container is running (docker ps)
â˜ Can access admin panel
â˜ Can create a test channel
â˜ Can upload a test video
â˜ Can start a test stream
â˜ HLS stream is accessible
â˜ Container auto-restarts on reboot

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’¡ PRO TIPS:

1. Use docker-compose for easier management:
   docker-compose up -d        # Start
   docker-compose logs -f      # Logs
   docker-compose restart      # Restart

2. Monitor resource usage:
   docker stats inbv-streaming

3. Limit container resources (if needed):
   Edit docker-compose.yml to add resource limits

4. Enable log rotation:
   Already configured in docker-compose.yml!

5. Backup regularly:
   tar -czf backup.tar.gz videos/ playlists/ logs/

6. Use the deploy.sh script:
   It's the fastest way to manage everything!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸŒ ACCESS POINTS SUMMARY:

After deployment, access these URLs:

Admin Panel V2:  http://YOUR_IP/admin-v2.html  â† Recommended
Admin Panel V1:  http://YOUR_IP/admin.html
Video Player:    http://YOUR_IP/player.html
RTMP Stats:      http://YOUR_IP/stat
API Docs:        http://YOUR_IP/api/channels

HLS Streams:     http://YOUR_IP/hls/live1/stream.m3u8
                 http://YOUR_IP/hls/live2/stream.m3u8
                 ... (up to live10)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ SUMMARY:

âœ¨ Copy your project folder to Linux server
âœ¨ Install Docker (one command)
âœ¨ Run ./deploy.sh
âœ¨ Access http://YOUR_IP/admin-v2.html

THAT'S IT! Your 10-channel 1080p streaming server is live! ğŸš€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

For full documentation, see: DOCKER_DEPLOYMENT_GUIDE.md
